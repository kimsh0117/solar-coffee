{"remainingRequest":"/Users/kimsanghun/Documents/SolarCoffee/solarcoffee.frontend/node_modules/babel-loader/lib/index.js!/Users/kimsanghun/Documents/SolarCoffee/solarcoffee.frontend/node_modules/ts-loader/index.js??ref--14-2!/Users/kimsanghun/Documents/SolarCoffee/solarcoffee.frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/kimsanghun/Documents/SolarCoffee/solarcoffee.frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/kimsanghun/Documents/SolarCoffee/solarcoffee.frontend/src/views/CreateInvoice.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/kimsanghun/Documents/SolarCoffee/solarcoffee.frontend/src/views/CreateInvoice.vue","mtime":1615707077706},{"path":"/Users/kimsanghun/Documents/SolarCoffee/solarcoffee.frontend/node_modules/cache-loader/dist/cjs.js","mtime":1615150631837},{"path":"/Users/kimsanghun/Documents/SolarCoffee/solarcoffee.frontend/node_modules/babel-loader/lib/index.js","mtime":1615150631849},{"path":"/Users/kimsanghun/Documents/SolarCoffee/solarcoffee.frontend/node_modules/ts-loader/index.js","mtime":1615150637072},{"path":"/Users/kimsanghun/Documents/SolarCoffee/solarcoffee.frontend/node_modules/cache-loader/dist/cjs.js","mtime":1615150631837},{"path":"/Users/kimsanghun/Documents/SolarCoffee/solarcoffee.frontend/node_modules/vue-loader/lib/index.js","mtime":1615150641385}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9raW1zYW5naHVuL0RvY3VtZW50cy9Tb2xhckNvZmZlZS9zb2xhcmNvZmZlZS5mcm9udGVuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSAiL1VzZXJzL2tpbXNhbmdodW4vRG9jdW1lbnRzL1NvbGFyQ29mZmVlL3NvbGFyY29mZmVlLmZyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jbGFzc0NhbGxDaGVjayI7CmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAiL1VzZXJzL2tpbXNhbmdodW4vRG9jdW1lbnRzL1NvbGFyQ29mZmVlL3NvbGFyY29mZmVlLmZyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVDbGFzcyI7CmltcG9ydCBfaW5oZXJpdHMgZnJvbSAiL1VzZXJzL2tpbXNhbmdodW4vRG9jdW1lbnRzL1NvbGFyQ29mZmVlL3NvbGFyY29mZmVlLmZyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9pbmhlcml0cyI7CmltcG9ydCBfY3JlYXRlU3VwZXIgZnJvbSAiL1VzZXJzL2tpbXNhbmdodW4vRG9jdW1lbnRzL1NvbGFyQ29mZmVlL3NvbGFyY29mZmVlLmZyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVTdXBlciI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maW5kLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucmVkdWNlLmpzIjsKaW1wb3J0IHsgX19kZWNvcmF0ZSB9IGZyb20gInRzbGliIjsKaW1wb3J0IHsgQ29tcG9uZW50LCBWdWUgfSBmcm9tICJ2dWUtcHJvcGVydHktZGVjb3JhdG9yIjsKaW1wb3J0IHsgQ3VzdG9tZXJTZXJ2aWNlLCBJbnZlbnRvcnlTZXJ2aWNlLCBJbnZvaWNlU2VydmljZSB9IGZyb20gIkAvc2VydmljZXMiOwppbXBvcnQgU29sYXJCdXR0b24gZnJvbSAiQC9jb21wb25lbnRzL1NvbGFyQnV0dG9uLnZ1ZSI7CmltcG9ydCBqc1BERiBmcm9tICJqc3BkZiI7CmltcG9ydCBodG1sMmNhbnZhcyBmcm9tICJodG1sMmNhbnZhcyI7Cgp2YXIgX2N1c3RvbWVyU2VydmljZSA9IG5ldyBDdXN0b21lclNlcnZpY2UoKTsKCnZhciBfaW52ZW50b3J5U2VydmljZSA9IG5ldyBJbnZlbnRvcnlTZXJ2aWNlKCk7Cgp2YXIgX2ludm9pY2VTZXJ2aWNlID0gbmV3IEludm9pY2VTZXJ2aWNlKCk7Cgp2YXIgQ3JlYXRlSW52b2ljZSA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX1Z1ZSkgewogIF9pbmhlcml0cyhDcmVhdGVJbnZvaWNlLCBfVnVlKTsKCiAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlcihDcmVhdGVJbnZvaWNlKTsKCiAgZnVuY3Rpb24gQ3JlYXRlSW52b2ljZSgpIHsKICAgIHZhciBfdGhpczsKCiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ3JlYXRlSW52b2ljZSk7CgogICAgX3RoaXMgPSBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgIF90aGlzLmludm9pY2VTdGVwID0gMTsKICAgIF90aGlzLmludm9pY2UgPSB7CiAgICAgIGNyZWF0ZWRPbjogbmV3IERhdGUoKSwKICAgICAgY3VzdG9tZXJJZDogMCwKICAgICAgbGluZUl0ZW1zOiBbXSwKICAgICAgdXBkYXRlZE9uOiBuZXcgRGF0ZSgpCiAgICB9OwogICAgX3RoaXMuc2VsZWN0ZWRDdXN0b21lcklkID0gMDsKICAgIF90aGlzLmN1c3RvbWVycyA9IFtdOwogICAgX3RoaXMuaW52ZW50b3J5ID0gW107CiAgICBfdGhpcy5saW5lSXRlbXMgPSBbXTsKICAgIF90aGlzLm5ld0l0ZW0gPSB7CiAgICAgIHByb2R1Y3Q6IHVuZGVmaW5lZCwKICAgICAgcXVhbnRpdHk6IDAKICAgIH07CiAgICByZXR1cm4gX3RoaXM7CiAgfQoKICBfY3JlYXRlQ2xhc3MoQ3JlYXRlSW52b2ljZSwgW3sKICAgIGtleTogImFkZExpbmVJdGVtIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBhZGRMaW5lSXRlbSgpIHsKICAgICAgdmFyIG5ld0l0ZW0gPSB7CiAgICAgICAgcHJvZHVjdDogdGhpcy5uZXdJdGVtLnByb2R1Y3QsCiAgICAgICAgcXVhbnRpdHk6IE51bWJlcih0aGlzLm5ld0l0ZW0ucXVhbnRpdHkpCiAgICAgIH07CiAgICAgIHZhciBleGlzdGluZ0l0ZW1zID0gdGhpcy5saW5lSXRlbXMubWFwKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuIGl0ZW0ucHJvZHVjdC5pZDsKICAgICAgfSk7CgogICAgICBpZiAoZXhpc3RpbmdJdGVtcy5pbmNsdWRlcyhuZXdJdGVtLnByb2R1Y3QuaWQpKSB7CiAgICAgICAgdmFyIGxpbmVJdGVtID0gdGhpcy5saW5lSXRlbXMuZmluZChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgcmV0dXJuIGl0ZW0ucHJvZHVjdC5pZCA9PT0gbmV3SXRlbS5wcm9kdWN0LmlkOwogICAgICAgIH0pOwogICAgICAgIHZhciBjdXJyZW50UXVhbnRpdHkgPSBOdW1iZXIobGluZUl0ZW0ucXVhbnRpdHkpOwogICAgICAgIHZhciB1cGRhdGVkUXVhbnRpdHkgPSBjdXJyZW50UXVhbnRpdHkgKz0gbmV3SXRlbS5xdWFudGl0eTsKICAgICAgICBsaW5lSXRlbS5xdWFudGl0eSA9IHVwZGF0ZWRRdWFudGl0eTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmxpbmVJdGVtcy5wdXNoKHRoaXMubmV3SXRlbSk7CiAgICAgIH0KCiAgICAgIHRoaXMubmV3SXRlbSA9IHsKICAgICAgICBwcm9kdWN0OiB1bmRlZmluZWQsCiAgICAgICAgcXVhbnRpdHk6IDAKICAgICAgfTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJmaW5hbGl6ZU9yZGVyIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBmaW5hbGl6ZU9yZGVyKCkgewogICAgICB0aGlzLmludm9pY2VTdGVwID0gMzsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJzdGFydE92ZXIiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHN0YXJ0T3ZlcigpIHsKICAgICAgdGhpcy5pbnZvaWNlID0gewogICAgICAgIGN1c3RvbWVySWQ6IDAsCiAgICAgICAgbGluZUl0ZW1zOiBbXQogICAgICB9OwogICAgICB0aGlzLmludm9pY2VTdGVwID0gMTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJjYW5Hb05leHQiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIGlmICh0aGlzLmludm9pY2VTdGVwID09PSAxKSByZXR1cm4gdGhpcy5zZWxlY3RlZEN1c3RvbWVySWQgIT09IDA7CiAgICAgIGlmICh0aGlzLmludm9pY2VTdGVwID09PSAyKSByZXR1cm4gdGhpcy5saW5lSXRlbXMubGVuZ3RoOwogICAgICBpZiAodGhpcy5pbnZvaWNlU3RlcCA9PT0gMykgcmV0dXJuIGZhbHNlOwogICAgICByZXR1cm4gZmFsc2U7CiAgICB9CiAgfSwgewogICAga2V5OiAiY2FuR29QcmV2IiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICByZXR1cm4gdGhpcy5pbnZvaWNlU3RlcCAhPT0gMTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJydW5uaW5nVG90YWwiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHJldHVybiB0aGlzLmxpbmVJdGVtcy5yZWR1Y2UoZnVuY3Rpb24gKGN1cnJlbnQsIG1lbW8pIHsKICAgICAgICByZXR1cm4gY3VycmVudCArIG1lbW9bInByb2R1Y3QiXVsicHJpY2UiXSAqIG1lbW9bInF1YW50aXR5Il07CiAgICAgIH0sIDApOwogICAgfQogIH0sIHsKICAgIGtleTogInNlbGVjdGVkQ3VzdG9tZXIiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgcmV0dXJuIHRoaXMuY3VzdG9tZXJzLmZpbmQoZnVuY3Rpb24gKGMpIHsKICAgICAgICByZXR1cm4gYy5pZCA9PT0gX3RoaXMyLnNlbGVjdGVkQ3VzdG9tZXJJZDsKICAgICAgfSk7CiAgICB9CiAgfSwgewogICAga2V5OiAicHJldiIsCiAgICB2YWx1ZTogZnVuY3Rpb24gcHJldigpIHsKICAgICAgaWYgKHRoaXMuaW52b2ljZVN0ZXAgPT09IDEpIHJldHVybjsKICAgICAgdGhpcy5pbnZvaWNlU3RlcCAtPSAxOwogICAgfQogIH0sIHsKICAgIGtleTogIm5leHQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIG5leHQoKSB7CiAgICAgIGlmICh0aGlzLmludm9pY2VTdGVwID09PSAzKSByZXR1cm47CiAgICAgIHRoaXMuaW52b2ljZVN0ZXAgKz0gMTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJzdWJtaXRJbnZvaWNlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfc3VibWl0SW52b2ljZSA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICB0aGlzLmludm9pY2UgPSB7CiAgICAgICAgICAgICAgICAgIGN1c3RvbWVySWQ6IHRoaXMuc2VsZWN0ZWRDdXN0b21lcklkLAogICAgICAgICAgICAgICAgICBsaW5lSXRlbXM6IHRoaXMubGluZUl0ZW1zCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gX2ludm9pY2VTZXJ2aWNlLm1ha2VOZXdJbnZvaWNlKHRoaXMuaW52b2ljZSk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIHRoaXMuZG93bmxvYWRQZGYoKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA2OwogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuJHJvdXRlci5wdXNoKCIvb3JkZXJzIik7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUsIHRoaXMpOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBzdWJtaXRJbnZvaWNlKCkgewogICAgICAgIHJldHVybiBfc3VibWl0SW52b2ljZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gc3VibWl0SW52b2ljZTsKICAgIH0oKQogIH0sIHsKICAgIGtleTogImRvd25sb2FkUGRmIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBkb3dubG9hZFBkZigpIHsKICAgICAgdmFyIHBkZiA9IG5ldyBqc1BERigicCIsICJwdCIsICJhNCIsIHRydWUpOwogICAgICB2YXIgaW52b2ljZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJpbnZvaWNlIik7CiAgICAgIHZhciB3aWR0aCA9IHRoaXMuJHJlZnMuaW52b2ljZS5jbGllbnRXaWR0aDsKICAgICAgdmFyIGhlaWdodCA9IHRoaXMuJHJlZnMuaW52b2ljZS5jbGllbnRIZWlnaHQ7CiAgICAgIGh0bWwyY2FudmFzKGludm9pY2UpLnRoZW4oZnVuY3Rpb24gKGNhbnZhcykgewogICAgICAgIHZhciBpbWFnZSA9IGNhbnZhcy50b0RhdGFVUkwoImltYWdlL3BuZyIpOwogICAgICAgIHBkZi5hZGRJbWFnZShpbWFnZSwgIlBORyIsIDAsIDAsIHdpZHRoICogMC41NSwgaGVpZ2h0ICogMC41NSk7CiAgICAgICAgcGRmLnNhdmUoImludm9pY2UiKTsKICAgICAgfSk7CiAgICB9CiAgfSwgewogICAga2V5OiAiaW5pdGlhbGl6ZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX2luaXRpYWxpemUgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gX2N1c3RvbWVyU2VydmljZS5nZXRDdXN0b21lcnMoKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgdGhpcy5jdXN0b21lcnMgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNTsKICAgICAgICAgICAgICAgIHJldHVybiBfaW52ZW50b3J5U2VydmljZS5nZXRJbnZlbnRvcnkoKTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgdGhpcy5pbnZlbnRvcnkgPSBfY29udGV4dDIuc2VudDsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyLCB0aGlzKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gaW5pdGlhbGl6ZSgpIHsKICAgICAgICByZXR1cm4gX2luaXRpYWxpemUuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGluaXRpYWxpemU7CiAgICB9KCkKICB9LCB7CiAgICBrZXk6ICJjcmVhdGVkIiwKICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfY3JlYXRlZCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmluaXRpYWxpemUoKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUzLCB0aGlzKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgICAgICByZXR1cm4gX2NyZWF0ZWQuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGNyZWF0ZWQ7CiAgICB9KCkKICB9XSk7CgogIHJldHVybiBDcmVhdGVJbnZvaWNlOwp9KFZ1ZSk7CgpDcmVhdGVJbnZvaWNlID0gX19kZWNvcmF0ZShbQ29tcG9uZW50KHsKICBuYW1lOiAiQ3JlYXRlSW52b2ljZSIsCiAgY29tcG9uZW50czogewogICAgU29sYXJCdXR0b246IFNvbGFyQnV0dG9uCiAgfQp9KV0sIENyZWF0ZUludm9pY2UpOwpleHBvcnQgZGVmYXVsdCBDcmVhdGVJbnZvaWNlOw=="},{"version":3,"sources":["/Users/kimsanghun/Documents/SolarCoffee/solarcoffee.frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/kimsanghun/Documents/SolarCoffee/solarcoffee.frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/kimsanghun/Documents/SolarCoffee/solarcoffee.frontend/src/views/CreateInvoice.vue?vue&type=script&lang=ts&"],"names":[],"mappings":"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","sourcesContent":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Vue } from \"vue-property-decorator\";\nimport { Invoice, LineItem } from \"@/types/Invoice\";\nimport { Customer } from \"@/types/Customer\";\nimport { ProductInventory } from \"@/types/Product\";\nimport { CustomerService, InventoryService, InvoiceService } from \"@/services\";\nimport SolarButton from \"@/components/SolarButton.vue\";\nimport jsPDF from \"jspdf\";\nimport html2canvas from \"html2canvas\";\n\nconst _customerService = new CustomerService();\nconst _inventoryService = new InventoryService();\nconst _invoiceService = new InvoiceService();\n\n@Component({\n  name: \"CreateInvoice\",\n  components: { SolarButton }\n})\nexport default class CreateInvoice extends Vue {\n  invoiceStep = 1;\n  invoice: Invoice = {\n    createdOn: new Date(),\n    customerId: 0,\n    lineItems: [],\n    updatedOn: new Date()\n  };\n  selectedCustomer: Customer;\n  selectedCustomerId = 0;\n  customers: Customer[] = [];\n  inventory: ProductInventory[] = [];\n  lineItems: LineItem[] = [];\n  newItem: LineItem = {\n    product: undefined,\n    quantity: 0\n  };\n  addLineItem() {\n    const newItem: LineItem = {\n      product: this.newItem.product,\n      quantity: Number(this.newItem.quantity)\n    };\n    const existingItems = this.lineItems.map(item => item.product.id);\n\n    if (existingItems.includes(newItem.product.id)) {\n      const lineItem = this.lineItems.find(\n        item => item.product.id === newItem.product.id\n      );\n      let currentQuantity = Number(lineItem.quantity);\n      const updatedQuantity = (currentQuantity += newItem.quantity);\n      lineItem.quantity = updatedQuantity;\n    } else {\n      this.lineItems.push(this.newItem);\n    }\n    this.newItem = { product: undefined, quantity: 0 };\n  }\n  finalizeOrder() {\n    this.invoiceStep = 3;\n  }\n  startOver() {\n    this.invoice = { customerId: 0, lineItems: [] };\n    this.invoiceStep = 1;\n  }\n  get canGoNext() {\n    if (this.invoiceStep === 1) return this.selectedCustomerId !== 0;\n    if (this.invoiceStep === 2) return this.lineItems.length;\n    if (this.invoiceStep === 3) return false;\n    return false;\n  }\n\n  get canGoPrev() {\n    return this.invoiceStep !== 1;\n  }\n  get runningTotal() {\n    return this.lineItems.reduce(\n      (current, memo) => current + memo[\"product\"][\"price\"] * memo[\"quantity\"],\n      0\n    );\n  }\n  get selectedCustomer() {\n    return this.customers.find(c => c.id === this.selectedCustomerId);\n  }\n  prev(): void {\n    if (this.invoiceStep === 1) return;\n    this.invoiceStep -= 1;\n  }\n  next(): void {\n    if (this.invoiceStep === 3) return;\n    this.invoiceStep += 1;\n  }\n  async submitInvoice() {\n    this.invoice = {\n      customerId: this.selectedCustomerId,\n      lineItems: this.lineItems\n    };\n\n    await _invoiceService.makeNewInvoice(this.invoice);\n    this.downloadPdf();\n    await this.$router.push(\"/orders\");\n  }\n  downloadPdf() {\n    const pdf = new jsPDF(\"p\", \"pt\", \"a4\", true);\n    const invoice = document.getElementById(\"invoice\");\n    const width = this.$refs.invoice.clientWidth;\n    const height = this.$refs.invoice.clientHeight;\n\n    html2canvas(invoice).then(canvas => {\n      const image = canvas.toDataURL(\"image/png\");\n      pdf.addImage(image, \"PNG\", 0, 0, width * 0.55, height * 0.55);\n      pdf.save(\"invoice\");\n    });\n  }\n  async initialize(): Promise<void> {\n    this.customers = await _customerService.getCustomers();\n    this.inventory = await _inventoryService.getInventory();\n  }\n  async created() {\n    await this.initialize();\n  }\n}\n"],"sourceRoot":""}]}