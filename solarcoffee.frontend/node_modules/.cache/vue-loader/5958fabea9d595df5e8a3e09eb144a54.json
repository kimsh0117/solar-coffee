{"remainingRequest":"/Users/kimsanghun/Documents/SolarCoffee/solarcoffee.frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/kimsanghun/Documents/SolarCoffee/solarcoffee.frontend/src/views/Inventory.vue?vue&type=style&index=0&id=1d0a5adc&scoped=true&lang=scss&","dependencies":[{"path":"/Users/kimsanghun/Documents/SolarCoffee/solarcoffee.frontend/src/views/Inventory.vue","mtime":1615323636500},{"path":"/Users/kimsanghun/Documents/SolarCoffee/solarcoffee.frontend/node_modules/css-loader/dist/cjs.js","mtime":1615150640918},{"path":"/Users/kimsanghun/Documents/SolarCoffee/solarcoffee.frontend/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1615150641385},{"path":"/Users/kimsanghun/Documents/SolarCoffee/solarcoffee.frontend/node_modules/postcss-loader/src/index.js","mtime":1613304108506},{"path":"/Users/kimsanghun/Documents/SolarCoffee/solarcoffee.frontend/node_modules/sass-loader/dist/cjs.js","mtime":1615150644570},{"path":"/Users/kimsanghun/Documents/SolarCoffee/solarcoffee.frontend/node_modules/cache-loader/dist/cjs.js","mtime":1615150631837},{"path":"/Users/kimsanghun/Documents/SolarCoffee/solarcoffee.frontend/node_modules/vue-loader/lib/index.js","mtime":1615150641385}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgpAaW1wb3J0ICJzcmMvc2Nzcy9nbG9iYWwuc2NzcyI7CgouZ3JlZW4gewogIGZvbnQtd2VpZ2h0OiBib2xkOwogIGNvbG9yOiAkc29sYXItZ3JlZW47Cn0KLnllbGxvdyB7CiAgZm9udC13ZWlnaHQ6IGJvbGQ7CiAgY29sb3I6ICRzb2xhci15ZWxsb3c7Cn0KLnJlZCB7CiAgZm9udC13aWR0aDogYm9sZDsKICBjb2xvcjogJHNvbGFyLXJlZDsKfQouaW52ZW50b3J5LWFjdGlvbnMgewogIGRpc3BsYXk6IGZsZXg7CiAgbWFyZ2luLWJvdHRvbTogMC44cmVtOwp9Ci5wcm9kdWN0LWFyY2hpdmUgewogIGN1cnNvcjogcG9pbnRlcjsKICBmb250LXdlaWdodDogYm9sZDsKICBmb250LXNpemU6IDEuMnJlbTsKICBjb2xvcjogJHNvbGFyLXJlZDsKfQo="},{"version":3,"sources":["Inventory.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiHA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Inventory.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"inventory-container\">\n    <h1 id=\"inventoryTitle\">Inventory Dashboard</h1>\n    <hr />\n\n    <div class=\"inventory-actions\">\n      <solar-button @button:click=\"showNewProductModal\" id=\"addNewBtn\"\n        >Add New Item</solar-button\n      >\n      <solar-button @button:click=\"showShipmentModal\" id=\"receiveShipmentBtn\"\n        >Receive Shipment</solar-button\n      >\n    </div>\n\n    <table id=\"inventoryTable\" class=\"table\">\n      <tr>\n        <th>Item</th>\n        <th>Quantity On-Hand</th>\n        <th>Unit Price</th>\n        <th>Taxable</th>\n        <th>Delete</th>\n      </tr>\n\n      <tr v-for=\"item in inventory\" :key=\"item.id\">\n        <td>{{ item.product.name }}</td>\n        <td :class=\"`${applyColor(item.quantityOnHand, item.idealQuantity)}`\">\n          {{ item.quantityOnHand }}\n        </td>\n        <td>{{ item.product.price | price }}</td>\n        <td>\n          <span v-if=\"item.product.isTaxable\">Yes</span>\n          <span v-else>No</span>\n        </td>\n        <td>\n          <i\n            @click=\"archiveProduct(item.product.id)\"\n            class=\"lni lni-cross-circle product-archive\"\n          ></i>\n        </td>\n      </tr>\n    </table>\n\n    <new-product-modal\n      v-if=\"isNewProductVisible\"\n      @close=\"showNewProductModal\"\n      @save:product=\"saveNewProduct\"\n    ></new-product-modal>\n    <shipment-modal\n      v-if=\"isShipmentVisible\"\n      :inventory=\"inventory\"\n      @close=\"showShipmentModal\"\n      @save:shipment=\"saveNewShipment\"\n    ></shipment-modal>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { Component, Vue } from \"vue-property-decorator\";\nimport { Product, ProductInventory } from \"@/types/Product\";\nimport { Shipment } from \"@/types/Shipment\";\nimport SolarButton from \"@/components/SolarButton.vue\";\nimport NewProductModal from \"@/components/modal/NewProductModal.vue\";\nimport { InventoryService, ProductService } from \"@/services\";\nimport ShipmentModal from \"@/components/modal/ShipmentModal.vue\";\n\nconst inventoryService = new InventoryService();\nconst productService = new ProductService();\n\n@Component({\n  name: \"Inventory\",\n  components: { SolarButton, NewProductModal, ShipmentModal }\n})\nexport default class Inventory extends Vue {\n  isNewProductVisible = false;\n  isShipmentVisible = false;\n  inventory: ProductInventory[] = [];\n  public applyColor(current: number, target: number) {\n    return current <= 0\n      ? \"red\"\n      : Math.abs(target - current) > 8\n      ? \"yellow\"\n      : \"green\";\n  }\n  async archiveProduct(productId: number) {\n    await productService.archive(productId);\n    await this.initialize();\n  }\n  public showNewProductModal(): void {\n    this.isNewProductVisible = !this.isNewProductVisible;\n  }\n  public showShipmentModal() {\n    this.isShipmentVisible = !this.isShipmentVisible;\n  }\n  async saveNewProduct(product: Product) {\n    await productService.save(product);\n    this.isNewProductVisible = false;\n    await this.initialize();\n  }\n  async saveNewShipment(shipment: Shipment) {\n    await inventoryService.updateInventoryQuantity(shipment);\n    this.isShipmentVisible = false;\n    await this.initialize();\n  }\n  async initialize() {\n    this.inventory = await inventoryService.getInventory();\n  }\n  async created() {\n    await this.initialize();\n  }\n}\n</script>\n\n<style scoped lang=\"scss\">\n@import \"src/scss/global.scss\";\n\n.green {\n  font-weight: bold;\n  color: $solar-green;\n}\n.yellow {\n  font-weight: bold;\n  color: $solar-yellow;\n}\n.red {\n  font-width: bold;\n  color: $solar-red;\n}\n.inventory-actions {\n  display: flex;\n  margin-bottom: 0.8rem;\n}\n.product-archive {\n  cursor: pointer;\n  font-weight: bold;\n  font-size: 1.2rem;\n  color: $solar-red;\n}\n</style>\n"]}]}